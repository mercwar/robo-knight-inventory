name: Deploy GitHub Pages

on:
  push:
    branches:
      - main

jobs:
  build:
    # Set the appropriate runner, in this case, a Debian-based environment (ubuntu-latest)
    runs-on: ubuntu-latest
    permissions:
      contents: read # Allows checkout action to read the repo contents
      pages: write # Allows the deployment action to write to the gh-pages branch
      id-token: write # Required by the actions/deploy-pages action

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      # Example of a step to create and write content to a file
      - name: Create index.html file
        run: |
          echo "<html><body><h1>Hello from GitHub Actions on Debian!</h1></body></html>" > index.html
        shell: bash

      # Optional: Use a specific action from the marketplace to manage file content
      # - name: Write a file with a marketplace action
      #   uses: DamianWu/write-file-action@v1
      #   with:
      #     path: 'my-config.yaml'
      #     contents: |
      #       key: value
      #       list:
      #         - item1
      #         - item2

      - name: Setup GitHub Pages
        uses: actions/configure-pages@v5

      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          # Upload the directory containing your static files
          path: './' # The root directory now contains index.html

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
